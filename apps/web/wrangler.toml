name = "exchequer-web"
main = "build/server/index.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# KV namespace for session storage
[[kv_namespaces]]
binding = "SESSION_KV"
# TODO: Create KV namespace in Cloudflare dashboard and add ID here
# Run: wrangler kv:namespace create "SESSION_KV"
# id = "<production-kv-id>"

# Preview KV namespace for development
# Run: wrangler kv:namespace create "SESSION_KV" --preview
# preview_id = "<preview-kv-id>"

[vars]
API_URL = "http://localhost:3000"
WORKOS_CLIENT_ID = ""

[dev]
port = 5173
# Use miniflare for local KV storage
persist_to = ".wrangler/state"
